{
  "address": "0xe89f13fD3e5f13f49B6C4c48ae7104A01f2E70cF",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_fxChild",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "message",
          "type": "bytes"
        }
      ],
      "name": "MessageSent",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "stateId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "ReceivedMessagesFromRoot",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "fxChild",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "fxRootTunnel",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "stateId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "rootMessageSender",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "processMessageFromRoot",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_fxRootTunnel",
          "type": "address"
        }
      ],
      "name": "setFxRootTunnel",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x6a18dafbcf8bfb5e9850ef157ab8cdaa8bad39fb371f8e79bc6428b044222ff9",
  "receipt": {
    "to": null,
    "from": "0x3F0556bCA55Bdbb78A9316936067a47fd4C4C4f4",
    "contractAddress": "0xe89f13fD3e5f13f49B6C4c48ae7104A01f2E70cF",
    "transactionIndex": 0,
    "gasUsed": "323752",
    "logsBloom": "0x00002000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000800000000000000000000100000000000000000000000000000000000000000000000000000000000080000000000000000000000000000004000000000000000000000000000000000000000000000000200000000000000020000000000000000001000000000000000000000000004000000000000000000001000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000100000",
    "blockHash": "0xe9a2da275e1f73c7242f003082f2df5b30bf015890a47df8ef623c8af12d0a0a",
    "transactionHash": "0x6a18dafbcf8bfb5e9850ef157ab8cdaa8bad39fb371f8e79bc6428b044222ff9",
    "logs": [
      {
        "transactionIndex": 0,
        "blockNumber": 14523211,
        "transactionHash": "0x6a18dafbcf8bfb5e9850ef157ab8cdaa8bad39fb371f8e79bc6428b044222ff9",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x0000000000000000000000003f0556bca55bdbb78a9316936067a47fd4c4c4f4",
          "0x000000000000000000000000c26880a0af2ea0c7e8130e6ec47af756465452e8"
        ],
        "data": "0x00000000000000000000000000000000000000000000000000170103bb1b40000000000000000000000000000000000000000000000000000276d9f76ad1d800000000000000000000000000000000000000000000000072e2d5631a9583165d000000000000000000000000000000000000000000000000025fd8f3afb69800000000000000000000000000000000000000000000000072e2ec641e509e565d",
        "logIndex": 0,
        "blockHash": "0xe9a2da275e1f73c7242f003082f2df5b30bf015890a47df8ef623c8af12d0a0a"
      }
    ],
    "blockNumber": 14523211,
    "cumulativeGasUsed": "323752",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0xCf73231F28B7331BBe3124B907840A94851f9f11"
  ],
  "solcInputHash": "59d3e452504cb6735c9ef666e87a337f",
  "metadata": "{\"compiler\":{\"version\":\"0.7.3+commit.9bfce1f6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_fxChild\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"message\",\"type\":\"bytes\"}],\"name\":\"MessageSent\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"stateId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"ReceivedMessagesFromRoot\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"fxChild\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"fxRootTunnel\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"stateId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"rootMessageSender\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"processMessageFromRoot\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_fxRootTunnel\",\"type\":\"address\"}],\"name\":\"setFxRootTunnel\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"title\":\"PoolTogetherEVMBridgeChild lives on the child chain and executes messages sent from the parent chain\",\"version\":1},\"userdoc\":{\"events\":{\"ReceivedMessagesFromRoot(uint256,address,bytes)\":{\"notice\":\"Emitted when a message is sent from the child chain\"}},\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/PoolTogetherEVMBridgeChild.sol\":\"PoolTogetherEVMBridgeChild\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/PoolTogetherEVMBridgeChild.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.7.3;\\n\\nimport \\\"./libraries/MultiSend.sol\\\";\\nimport { FxBaseChildTunnel } from \\\"./vendor/FxBaseChildTunnel.sol\\\";\\n\\n/// @title PoolTogetherEVMBridgeChild lives on the child chain and executes messages sent from the parent chain\\ncontract PoolTogetherEVMBridgeChild is FxBaseChildTunnel {\\n\\n    constructor(address _fxChild) public FxBaseChildTunnel(_fxChild) {\\n\\n    }\\n\\n    /// @notice Emitted when a message is sent from the child chain\\n    event ReceivedMessagesFromRoot(uint256 indexed stateId, address indexed sender, bytes data);\\n\\n    /// @notice Receives messages from data tunnel and disperses them using MultiSend\\n    /// @param stateId State update Id\\n    /// @param sender Address of parent chain sender\\n    /// @param message Sent from parent chain\\n    function _processMessageFromRoot(uint256 stateId, address sender, bytes memory message) internal override {\\n        \\n        MultiSend.multiSend(message);\\n        emit ReceivedMessagesFromRoot(stateId, sender, message);\\n    }\\n\\n}\",\"keccak256\":\"0xb1950594a3be81bcb5fe6945e2e3c4ca41721915b8071dfa6d7580c093c5cffa\",\"license\":\"MIT\"},\"contracts/libraries/MultiSend.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.7.3;\\n\\nlibrary MultiSend{\\n\\n    /// credit: gnosis-safe devs (https://github.com/gnosis/safe-contracts/blob/186a21a74b327f17fc41217a927dea7064f74604/contracts/libraries/MultiSend.sol)\\n    /// @dev Sends multiple transactions and reverts all if one fails.\\n    /// @param transactions Encoded transactions. Each transaction is encoded as a packed bytes of\\n    ///                     operation as a uint8 with 0 for a call or 1 for a delegatecall (=> 1 byte),\\n    ///                     to as a address (=> 20 bytes),\\n    ///                     value as a uint256 (=> 32 bytes),\\n    ///                     data length as a uint256 (=> 32 bytes),\\n    ///                     data as bytes.\\n    ///                     see abi.encodePacked for more information on packed encoding\\n    /// @notice This method is payable as delegatecalls keep the msg.value from the previous call\\n    ///         If the calling method (e.g. execTransaction) received ETH this would revert otherwise\\n    function multiSend(bytes memory transactions) internal {\\n        // solhint-disable-next-line no-inline-assembly\\n        assembly {\\n            let length := mload(transactions)\\n            let i := 0x20\\n            for {\\n                // Pre block is not used in \\\"while mode\\\"\\n            } lt(i, length) {\\n                // Post block is not used in \\\"while mode\\\"\\n            } {\\n                // First byte of the data is the operation.\\n                // We shift by 248 bits (256 - 8 [operation byte]) it right since mload will always load 32 bytes (a word).\\n                // This will also zero out unused data.\\n                let operation := shr(0xf8, mload(add(transactions, i)))\\n                // We offset the load address by 1 byte (operation byte)\\n                // We shift it right by 96 bits (256 - 160 [20 address bytes]) to right-align the data and zero out unused data.\\n                let to := shr(0x60, mload(add(transactions, add(i, 0x01))))\\n                // We offset the load address by 21 byte (operation byte + 20 address bytes)\\n                let value := mload(add(transactions, add(i, 0x15)))\\n                // We offset the load address by 53 byte (operation byte + 20 address bytes + 32 value bytes)\\n                let dataLength := mload(add(transactions, add(i, 0x35)))\\n                // We offset the load address by 85 byte (operation byte + 20 address bytes + 32 value bytes + 32 data length bytes)\\n                let data := add(transactions, add(i, 0x55))\\n                let success := 0\\n                switch operation\\n                    case 0 {\\n                        success := call(gas(), to, value, data, dataLength, 0, 0)\\n                    }\\n                    case 1 {\\n                        success := delegatecall(gas(), to, data, dataLength, 0, 0)\\n                    }\\n                if eq(success, 0) {\\n                    revert(0, 0)\\n                }\\n                // Next entry starts at 85 byte + data length\\n                i := add(i, add(0x55, dataLength))\\n            }\\n        }\\n    }\\n}\",\"keccak256\":\"0x2818aee6284aabe8f2e745f333a7649c383f4a413cfc7362f19209ce5e54dd99\",\"license\":\"MIT\"},\"contracts/vendor/FxBaseChildTunnel.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.7.3;\\n\\n// IFxMessageProcessor represents interface to process message\\ninterface IFxMessageProcessor {\\n    function processMessageFromRoot(uint256 stateId, address rootMessageSender, bytes calldata data) external;\\n}\\n\\n/**\\n* @notice Mock child tunnel contract to receive and send message from L2\\n*/\\nabstract contract FxBaseChildTunnel is IFxMessageProcessor{\\n    // MessageTunnel on L1 will get data from this event\\n    event MessageSent(bytes message);\\n\\n    // fx child\\n    address public fxChild;\\n\\n    // fx root tunnel\\n    address public fxRootTunnel;\\n\\n    constructor(address _fxChild) {\\n        fxChild = _fxChild;\\n    }\\n\\n    // Sender must be fxRootTunnel in case of ERC20 tunnel\\n    modifier validateSender(address sender) {\\n        require(sender == fxRootTunnel, \\\"FxBaseChildTunnel: INVALID_SENDER_FROM_ROOT\\\");\\n        _;\\n    }\\n\\n    // set fxRootTunnel if not set already\\n    function setFxRootTunnel(address _fxRootTunnel) public {\\n        require(fxRootTunnel == address(0x0), \\\"FxBaseChildTunnel: ROOT_TUNNEL_ALREADY_SET\\\");\\n        fxRootTunnel = _fxRootTunnel;\\n    }\\n\\n    function processMessageFromRoot(uint256 stateId, address rootMessageSender, bytes calldata data) validateSender(rootMessageSender) public override {\\n        require(msg.sender == fxChild, \\\"FxBaseChildTunnel: INVALID_SENDER\\\");\\n        _processMessageFromRoot(stateId, rootMessageSender, data);\\n    }\\n\\n    /**\\n     * @notice Emit message that can be received on Root Tunnel\\n     * @dev Call the internal function when need to emit message\\n     * @param message bytes message that will be sent to Root Tunnel\\n     * some message examples -\\n     *   abi.encode(tokenId);\\n     *   abi.encode(tokenId, tokenMetadata);\\n     *   abi.encode(messageType, messageData);\\n     */\\n    function _sendMessageToRoot(bytes memory message) internal {\\n        emit MessageSent(message);\\n    }\\n\\n    /**\\n     * @notice Process message received from Root Tunnel\\n     * @dev function needs to be implemented to handle message as per requirement\\n     * This is called by onStateReceive function.\\n     * Since it is called via a system call, any event will not be emitted during its execution.\\n     * @param stateId unique state id\\n     * @param sender root message sender\\n     * @param message bytes message that was sent from Root Tunnel\\n     */\\n    function _processMessageFromRoot(uint256 stateId, address sender, bytes memory message) virtual internal;\\n}\\n\",\"keccak256\":\"0xccab418e9acdd95a36a605e556ad28ca77cfa2e3d414493d2ab0c9eefdfd05c1\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506040516104dc3803806104dc8339818101604052602081101561003357600080fd5b5051600080546001600160a01b039092166001600160a01b0319909216919091179055610477806100656000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063450d11f0146100515780637f1e9cb014610075578063888370941461007d5780639a7c4b71146100a5575b600080fd5b61005961012a565b604080516001600160a01b039092168252519081900360200190f35b610059610139565b6100a36004803603602081101561009357600080fd5b50356001600160a01b0316610148565b005b6100a3600480360360608110156100bb57600080fd5b8135916001600160a01b03602082013516918101906060810160408201356401000000008111156100eb57600080fd5b8201836020820111156100fd57600080fd5b8035906020019184600183028401116401000000008311171561011f57600080fd5b5090925090506101b2565b6000546001600160a01b031681565b6001546001600160a01b031681565b6001546001600160a01b0316156101905760405162461bcd60e51b815260040180806020018281038252602a815260200180610418602a913960400191505060405180910390fd5b600180546001600160a01b0319166001600160a01b0392909216919091179055565b60015483906001600160a01b038083169116146102005760405162461bcd60e51b815260040180806020018281038252602b8152602001806103ed602b913960400191505060405180910390fd5b6000546001600160a01b031633146102495760405162461bcd60e51b81526004018080602001828103825260218152602001806103cc6021913960400191505060405180910390fd5b61028a858585858080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061029192505050565b5050505050565b61029a81610343565b816001600160a01b0316837f94c58dcc5fd388fface430009b3a29575b2b5e4b756109eeb1fc41af5a31524d836040518080602001828103825283818151815260200191508051906020019080838360005b838110156103045781810151838201526020016102ec565b50505050905090810190601f1680156103315780820380516001836020036101000a031916815260200191505b509250505060405180910390a3505050565b805160205b818110156103c6578083015160f81c6001820184015160601c60158301850151603584018601516055850187016000856000811461038d576001811461039d576103a8565b6000808585888a5af191506103a8565b6000808585895af491505b50806103b357600080fd5b5050806055018501945050505050610348565b50505056fe4678426173654368696c6454756e6e656c3a20494e56414c49445f53454e4445524678426173654368696c6454756e6e656c3a20494e56414c49445f53454e4445525f46524f4d5f524f4f544678426173654368696c6454756e6e656c3a20524f4f545f54554e4e454c5f414c52454144595f534554a26469706673582212207f09279be01a4fafd329dcb69876cef3e9ab830c02b2266646ab937d4a8cf2bf64736f6c63430007030033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061004c5760003560e01c8063450d11f0146100515780637f1e9cb014610075578063888370941461007d5780639a7c4b71146100a5575b600080fd5b61005961012a565b604080516001600160a01b039092168252519081900360200190f35b610059610139565b6100a36004803603602081101561009357600080fd5b50356001600160a01b0316610148565b005b6100a3600480360360608110156100bb57600080fd5b8135916001600160a01b03602082013516918101906060810160408201356401000000008111156100eb57600080fd5b8201836020820111156100fd57600080fd5b8035906020019184600183028401116401000000008311171561011f57600080fd5b5090925090506101b2565b6000546001600160a01b031681565b6001546001600160a01b031681565b6001546001600160a01b0316156101905760405162461bcd60e51b815260040180806020018281038252602a815260200180610418602a913960400191505060405180910390fd5b600180546001600160a01b0319166001600160a01b0392909216919091179055565b60015483906001600160a01b038083169116146102005760405162461bcd60e51b815260040180806020018281038252602b8152602001806103ed602b913960400191505060405180910390fd5b6000546001600160a01b031633146102495760405162461bcd60e51b81526004018080602001828103825260218152602001806103cc6021913960400191505060405180910390fd5b61028a858585858080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061029192505050565b5050505050565b61029a81610343565b816001600160a01b0316837f94c58dcc5fd388fface430009b3a29575b2b5e4b756109eeb1fc41af5a31524d836040518080602001828103825283818151815260200191508051906020019080838360005b838110156103045781810151838201526020016102ec565b50505050905090810190601f1680156103315780820380516001836020036101000a031916815260200191505b509250505060405180910390a3505050565b805160205b818110156103c6578083015160f81c6001820184015160601c60158301850151603584018601516055850187016000856000811461038d576001811461039d576103a8565b6000808585888a5af191506103a8565b6000808585895af491505b50806103b357600080fd5b5050806055018501945050505050610348565b50505056fe4678426173654368696c6454756e6e656c3a20494e56414c49445f53454e4445524678426173654368696c6454756e6e656c3a20494e56414c49445f53454e4445525f46524f4d5f524f4f544678426173654368696c6454756e6e656c3a20524f4f545f54554e4e454c5f414c52454144595f534554a26469706673582212207f09279be01a4fafd329dcb69876cef3e9ab830c02b2266646ab937d4a8cf2bf64736f6c63430007030033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "title": "PoolTogetherEVMBridgeChild lives on the child chain and executes messages sent from the parent chain",
    "version": 1
  },
  "userdoc": {
    "events": {
      "ReceivedMessagesFromRoot(uint256,address,bytes)": {
        "notice": "Emitted when a message is sent from the child chain"
      }
    },
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 1572,
        "contract": "contracts/PoolTogetherEVMBridgeChild.sol:PoolTogetherEVMBridgeChild",
        "label": "fxChild",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 1574,
        "contract": "contracts/PoolTogetherEVMBridgeChild.sol:PoolTogetherEVMBridgeChild",
        "label": "fxRootTunnel",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      }
    }
  }
}